# LOAD gene expression vs cell matrix example
# You must modify this script based on your directory
# and the names of your raw files.

# file.path will change based in how you strcuture the data. 
# for example, in the first case, gene expression vs cell matrix 
# for unimodal experiments was saved as raw_flow_data.txt in 
# a 'data' folder within the same directory that stores this R script.

# For 2018-2019 data, you can load data as:

ND_1_raw = read.table(file.path('data','raw_flow_data.txt'),
                      sep=",",
                      header=T,
                      row.names=1)
ND_1_raw = ND_1_raw %>% data.matrix() %>% Matrix(sparse=T)
Flow_S1 = CreateSeuratObject(counts=ND_1_raw, min.cells=10, min.genes=500,
                          names.field=2, names.delim="_",project="Flow_S1")
rm(ND_1_raw)

# For 2021-2022 data, you can load data as:

H_ND_2_raw <- Read10X(data.dir = paste(getwd(),"/data/H_ND/",sep=''))
colnames(H_ND_2_raw)<-paste('H_ND_2_',colnames(H_ND_2_raw),sep='')
H_ND_2 = CreateSeuratObject(counts=H_ND_2_raw, min.cells=10, min.genes=500,
                            names.field=2, names.delim="_")
rm(H_ND_2_raw)


# To merge data sets in one seurat object

Flow_S3 <- merge(H_ND_2, y = L_ND_2, project = "Flow_S3")

# For more information about how to load raw data:
# https://satijalab.org/seurat/articles/pbmc3k_tutorial.html
# https://satijalab.org/seurat/articles/merge_vignette.html
